---
path: "/start-fresh"
date: "2022-12-01"
title: "Denoã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒFreshã€ã§çˆ†é€Ÿé–‹ç™º"
description: "Denoã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç”¨ã„ã¦çˆ†é€Ÿã§ç’°å¢ƒæ§‹ç¯‰ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ï¼"
tags: ["deno", "typescript", "fresh"]
published: true
---

- ä½œæˆæ—¥ï¼š2022/12/01

- æ›´æ–°æ—¥ï¼š2022/12/01

## ä»Šå›ã®ãƒã‚¿

- Deno ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ Fresh ã‚’ä½¿ç”¨ã—ã¦ã¿ãŸï¼

- ç’°å¢ƒæ§‹ç¯‰ã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã‚’ä¸€æ°—é€šè²«ã§è¡Œãˆã¦ç´ æ™´ã‚‰ã—ã‹ã£ãŸï¼

- ãŠã¿ãã˜ã¨ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã‚’ãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã§ã¾ã¨ã‚ãŸï¼

## æˆæœç‰©

ã‚½ãƒ¼ã‚¹

[https://github.com/taroosg/fresh-janken](https://github.com/taroosg/fresh-janken)

ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãŠã¿ãã˜ï¼‰

[https://taroosg-fresh-janken.deno.dev/omikuji_page](https://taroosg-fresh-janken.deno.dev/omikuji_page)

ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆã˜ã‚ƒã‚“ã‘ã‚“ï¼‰

[https://taroosg-fresh-janken.deno.dev/janken_page](https://taroosg-fresh-janken.deno.dev/janken_page)

## å‹•ä½œç’°å¢ƒ

- macOS 13.0.1

- deno 1.28.2

- typescript 4.8.3

- fresh@1.1.2

## å¯¾è±¡è€…

- TypeScript ã§ web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã¦çˆ†é€Ÿã§ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã—ãŸã„äººï¼

- web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºæœ¬çš„ãªå‹•ãæ–¹ã‚’æŠŠæ¡ã—ã¦ã„ã‚‹äººï¼

## ã‚‚ãã˜

- Deno ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

- Fresh ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

- ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒšãƒ¼ã‚¸ã®ä½œæˆ

- ãŠã¿ãã˜ã®å®Ÿè£…ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

- ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…ï¼ˆã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ï¼‰

- ãƒ‡ãƒ—ãƒ­ã‚¤

## Deno ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã™ã‚‹ã ã‘ï¼mac ã ã£ãŸã‚‰å¤šåˆ† Homebrew ã‚’ä½¿ã†ã®ãŒä¸€ç•ªæ¥½ï¼

[https://deno.land/manual@v1.28.2/getting_started/installation](https://deno.land/manual@v1.28.2/getting_started/installation)

## Fresh ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§ OKï¼TailWindCSS ã‚’è‡ªå‹•çš„ã«æº–å‚™ã—ã¦ãã‚Œã‚‹ã®ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ y ã§ã™ã™ã‚ã‚‹ï¼VS Code ã®è¨­å®šã‚‚ã—ã¦ãã‚Œã‚‹ã®ã§ã“ã¡ã‚‰ã‚‚å¿…è¦ã«å¿œã˜ã¦ y ã§ã™ã™ã‚ã‚‹ï¼

```bash
deno run -A -r https://fresh.deno.dev PROJECT_NAME

  ğŸ‹ Fresh: the next-gen web framework.

Let\'s set up your new Fresh project.

Fresh has built in support for styling using Tailwind CSS. Do you want to use this? [y/N] y
Do you use VS Code? [y/N] y
The manifest has been generated for 3 routes and 1 islands.

Project initialized!

Enter your project directory using cd PROJECT_NAME.
Run deno task start to start the project. CTRL-C to stop.

Stuck? Join our Discord https://discord.gg/deno

Happy hacking! ğŸ¦•

```

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦ªåˆ‡ãªã®ã§è¦‹ãªãŒã‚‰é€²ã‚ã‚Œã°é–“é•ã„ãªã„ï¼

[https://fresh.deno.dev/docs/getting-started/create-a-project](https://fresh.deno.dev/docs/getting-started/create-a-project)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸã‚‰ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§ç«‹ã¡ä¸Šã’ã‚‹ï¼åœæ­¢ã•ã›ã‚‹ã¨ãã¯ `ctrl + c` ã§ OKï¼

```bash
deno task start
```

ç«‹ã¡ä¸Šã’ã‚‹ã¨ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ã“ã®ãƒšãƒ¼ã‚¸ã¯ `index.tsx` ã§ï¼Œãƒšãƒ¼ã‚¸å†…ã§ `islands/Counter` ã¨ `components/Button` ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ï¼

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒšãƒ¼ã‚¸ã®ä½œæˆ

æ—©é€Ÿãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®å®Ÿè£…ã‚’é€²ã‚ã¦ã„ãï¼æœ¬è¨˜äº‹ã§ã¯ãŠã¿ãã˜ã¨ã˜ã‚ƒã‚“ã‘ã‚“ã®å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ãŒï¼ŒFresh ã¯ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚Šï¼Œãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰åŒæ–¹ã®å®Ÿè£…ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ï¼

ãŠã¿ãã˜ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…ï¼Œã˜ã‚ƒã‚“ã‘ã‚“ã¯ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã‚’è¡Œã†ï¼

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã¯ä»¥ä¸‹ã®æ§‹æˆã¨ãªã£ã¦ã„ã‚‹ï¼

```txt
.
â”œâ”€â”€ README.md
â”œâ”€â”€ components
â”‚Â Â  â””â”€â”€ Button.tsx
â”œâ”€â”€ deno.json
â”œâ”€â”€ deno.lock
â”œâ”€â”€ dev.ts
â”œâ”€â”€ fresh.gen.ts
â”œâ”€â”€ import_map.json
â”œâ”€â”€ islands
â”‚Â Â  â””â”€â”€ Counter.tsx
â”œâ”€â”€ main.ts
â”œâ”€â”€ routes
â”‚Â Â  â”œâ”€â”€ [name].tsx
â”‚Â Â  â”œâ”€â”€ api
â”‚Â Â  â”‚Â Â  â””â”€â”€ joke.ts
â”‚Â Â  â””â”€â”€ index.tsx
â”œâ”€â”€ static
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â””â”€â”€ logo.svg
â””â”€â”€ twind.config.ts

```

ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹éš›ã«ã¯ `routes` å†…ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã ã‘ã§è‰¯ã„ï¼Fresh ã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãªã£ã¦ãŠã‚Šï¼Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¡Œã†ï¼Next.js ã§é–‹ç™ºçµŒé¨“ã®ã‚ã‚‹äººã«ã¯é¦´æŸ“ã¿æ·±ã„ï¼

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã‚ˆã†ï¼

- `routes/omikuji_page.tsx`

- `routes/janken_page.tsx`

ç¶šã„ã¦ï¼Œãã‚Œãã‚Œã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸‹è¨˜ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼

```tsx
// omikuji_page.tsx

import { Head } from "$fresh/runtime.ts";

export default function Omikuji_page() {
  return (
    <>
      <Head>
        <title>Omikuji</title>
      </Head>
      <h1>ãŠã¿ãã˜ã®ãƒšãƒ¼ã‚¸</h1>
    </>
  );
}
```

```tsx
// janken_page.tsx

import { Head } from "$fresh/runtime.ts";

export default function Janken_page() {
  return (
    <>
      <Head>
        <title>Janken</title>
      </Head>
      <h1>ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒšãƒ¼ã‚¸</h1>
    </>
  );
}
```

ã“ã®ã‚ˆã†ã«ï¼ŒFresh ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å½¢å¼ã§ç”»é¢ã®å®Ÿè£…ã‚’è¡Œã†ï¼React ã‚„ Next.js ã‚’æ‰±ã£ãŸçµŒé¨“ã®ã‚ã‚‹äººãªã‚‰ã™ãã«æ…£ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ãŸã‚‰ä¸‹è¨˜ã® URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å‹•ä½œã‚’ç¢ºèªã—ã¦ãŠã“ã†ï¼ˆãã‚Œãã‚Œã€ŒãŠã¿ãã˜ã®ãƒšãƒ¼ã‚¸ã€ã¨ã€Œã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒšãƒ¼ã‚¸ã€ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKï¼‰ï¼

- `localhost:8000/omikuji_page`

- `localhost:8000/janken_page`

## ãŠã¿ãã˜ã®å®Ÿè£…ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

ç¶šã„ã¦ï¼ŒãŠã¿ãã˜ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã¿ã‚ˆã†ï¼

Fresh ã§ã¯ï¼ŒåŸºæœ¬çš„ã« JavaScript ã‚’èª­ã¿è¾¼ã¾ãšï¼Œå‹•çš„ãªå‡¦ç†ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã‚‹å ´åˆã®ã¿èª­ã¿è¾¼ã‚€ï¼

`island` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«ãŠã¿ãã˜ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚‹ `omikuji.tsx` ã‚’ä½œæˆã—ã¦ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã—ã‚ˆã†ï¼

```tsx
// omikuji.tsx

import { useState } from "preact/hooks";

export default function Omikuji() {
  const getOmikuji = () =>
    ["å¤§å‰", "ä¸­å‰", "å°å‰", "å‡¶", "å¤§å‡¶"][~~(Math.random() * 5)];

  const [omikujiResult, setOmikujiResult] = useState("...");

  return (
    <>
      <button onClick={() => setOmikujiResult(getOmikuji())}>
        ãŠã¿ãã˜ã‚’ã²ã
      </button>
      <p>ä»Šæ—¥ã®é‹å‹¢ã¯{omikujiResult}ã§ã™</p>
    </>
  );
}
```

`omikuji_page.tsx` ã®å†…å®¹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹ï¼

```tsx
// omikuji_page.tsx

import { Head } from "$fresh/runtime.ts";
import Omikuji from "../islands/omikuji.tsx";

export default function Omikuji_page() {
  return (
    <>
      <Head>
        <title>Omikuji</title>
      </Head>
      <h1>ãŠã¿ãã˜ã®ãƒšãƒ¼ã‚¸</h1>
      <Omikuji />
    </>
  );
}
```

`localhost:8000/omikuji_page` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ï¼Œã€ŒãŠã¿ãã˜ã‚’å¼•ãã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã‚ˆã†ï¼æ¯å›ãƒ©ãƒ³ãƒ€ãƒ ã«ãŠã¿ãã˜ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKï¼

ã“ã‚Œã‚‰ã®å®Ÿè£…ã‚‚ React ãªã©ã§é–‹ç™ºã‚’è¡Œã£ãŸçµŒé¨“ãŒã‚ã‚Œã°ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‰ã‚Œã‚‹ã ã‚ã†ï¼

## ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…ï¼ˆã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ï¼‰

ç¶šã„ã¦ï¼Œã˜ã‚ƒã‚“ã‘ã‚“ã®å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ï¼

ã˜ã‚ƒã‚“ã‘ã‚“ã¯ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã§è‡ªåˆ†ã®æ‰‹ã‚’é¸æŠã—ï¼Œé€ä¿¡ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚µãƒ¼ãƒã«è‡ªåˆ†ã®æ‰‹ã‚’ POST ã§é€ä¿¡ã—ã¦çµæœã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹å®Ÿè£…ã¨ã™ã‚‹ï¼

ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã§ã®å‹•ãã¯ä»¥ä¸‹ã®æµã‚Œã¨ãªã‚‹ï¼

1. GET ã‚„ POST ã«å¿œã˜ã¦ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨˜è¿°ã—ã¦ãŠãï¼`async GET(){...}` `async POST(){...}` ã®ã‚ˆã†ã«è¨˜è¿°ã—ï¼Œãã‚Œãã‚Œ GET ã¨ POST ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãŸéš›ã«{}å†…ã®ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼

2. ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ `ctx.render(data)` ã‚’è¿”ã™ï¼ã“ã“ã«å…¥åŠ›ã—ãŸå€¤ãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã•ã‚Œã‚‹ï¼

3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `{ data }` ã®å½¢ã§å…¥åŠ›å€¤ã‚’å—ã‘å–ã‚Šï¼Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

ä¸Šè¨˜å…¨ã¦ã¯ã‚µãƒ¼ãƒã§å®Ÿè¡Œã•ã‚Œï¼Œæ§‹æˆã•ã‚ŒãŸ HTML ã®ã¿ãŒãƒ–ãƒ©ã‚¦ã‚¶ã«æ¸¡ã•ã‚Œã‚‹ SSR ã®ä»•çµ„ã¿ã¨ãªã£ã¦ã„ã‚‹ï¼

`janken_page.tsx` ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹ï¼

```tsx
// janken_page.tsx

import { Head } from "$fresh/runtime.ts";
import { Handlers } from "$fresh/server.ts";

// ã˜ã‚ƒã‚“ã‘ã‚“ã®çµæœã‚’ã¾ã¨ã‚ã‚‹å‹
interface JankenResult {
  userHand: string;
  computerHand: string;
  winLose: string;
}

// ã˜ã‚ƒã‚“ã‘ã‚“é–¢é€£ã®é–¢æ•°
const getComputerHand = () => [0, 1, 2][~~(Math.random() * 3)];

const getWinLose = (userHand: number | undefined, computerHand: number) =>
  [
    ["draw", "win", "lose"],
    ["lose", "draw", "win"],
    ["win", "lose", "draw"],
  ][userHand ?? 0][computerHand];

const getJankenHand = (jankenIndex: number) =>
  ["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"][jankenIndex];

// ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®å®Ÿè£…
export const handler: Handlers<JankenResult> = {
  // GETã§ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸéš›ã«ã¯ã€Œå¾…æ©Ÿä¸­ã€ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™ï¼
  async GET(_, ctx) {
    const result: JankenResult = {
      userHand: "å¾…æ©Ÿä¸­",
      computerHand: "å¾…æ©Ÿä¸­",
      winLose: "å¾…æ©Ÿä¸­",
    };
    return ctx.render(result);
  },
  // POSTã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸå ´åˆï¼ˆã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ãŒé€ä¿¡ã•ã‚Œã¦ããŸå ´åˆï¼‰ã¯ã˜ã‚ƒã‚“ã‘ã‚“ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™ï¼
  async POST(req, ctx) {
    const formData = await req.formData();
    const userHandIndex = Number(formData.get("user_hand"));
    const userHand = getJankenHand(userHandIndex);
    const computerHandIndex = getComputerHand();
    const computerHand = getJankenHand(computerHandIndex);
    const winLose = getWinLose(userHandIndex, computerHandIndex);
    const result = { userHand, computerHand, winLose };
    return ctx.render(result);
  },
};

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã˜ã‚ƒã‚“ã‘ã‚“ã®çµæœã‚’å—ã‘å–ã‚‹
export default function Janken_page({ data }: { data: JankenResult }) {
  return (
    <>
      <Head>
        <title>Janken</title>
      </Head>
      <h1>ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒšãƒ¼ã‚¸</h1>
      <h2>ã˜ã‚ƒã‚“ã‘ã‚“ã‚’ã™ã‚‹</h2>
      <form action="" method="POST">
        <select
          name="user_hand"
          defaultValue={["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"]
            .indexOf(data.userHand)
            .toString()}
        >
          {["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"].map((x, i) => (
            <option value={i}>{x}</option>
          ))}
        </select>
        <button type="submit">é€ä¿¡</button>
      </form>
      <h2>çµæœ</h2>
      <p>è‡ªåˆ†ã®æ‰‹ï¼š{data.userHand}</p>
      <p>ç›¸æ‰‹ã®æ‰‹ï¼š{data.computerHand}</p>
      <p>çµæœï¼š{data.winLose}</p>
    </>
  );
}
```

ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ãŸã‚‰å‹•ä½œç¢ºèªã—ã‚ˆã†ï¼`localhost:8000/janken_page` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ï¼Œè‡ªåˆ†ã®æ‰‹ã‚’é¸æŠã—ã¦é€ä¿¡ã—ã¦çµæœãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKï¼

Fresh ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹éš›ã«ã¯ï¼Œã“ã®ã‚ˆã†ãªã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã®å‡¦ç†ãŒãƒ¡ã‚¤ãƒ³ã¨ãªã‚‹ã ã‚ã†ï¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å®Ÿè£…ã—ï¼Œãã®ä¸­ã§å¤–éƒ¨ API ã‚„ DB ã¨ã®ã‚„ã‚Šå–ã‚Šã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã§å®Ÿè£…ã‚’é€²ã‚ã‚‰ã‚Œã‚‹ã ã‚ã†ï¼

## ãƒ‡ãƒ—ãƒ­ã‚¤

ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯ Deno å…¬å¼ãŒæä¾›ã™ã‚‹ Deno Deploy ã‚’ä½¿ç”¨ã™ã‚‹ï¼GitHub é€£æºã§ãã‚‹ãŸã‚ã¨ã¦ã‚‚ç°¡å˜ã§ã‚ã‚‹ï¼

ã¾ãšã¯å®Ÿè£…ã—ãŸ Fresh ã®ã‚³ãƒ¼ãƒ‰ã‚’ GitHub ã« push ã—ã¦ãŠãï¼

Deno Deploy ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ï¼ŒGitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§èªè¨¼ã—ã¦ãŠãï¼

[https://deno.com/deploy](https://deno.com/deploy)

ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ãŸã‚‰ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ï¼New Project ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ç”»é¢ãŒå¤‰ã‚ã‚‹ã®ã§ï¼ŒGitHub ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã™ã‚‹ï¼ã€ŒAdd Repositoryã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚Œã° OKï¼

ã€ŒAdd Repositoryã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è‡ªå‹•çš„ã« GitHub ã®ãƒšãƒ¼ã‚¸ãŒé–‹ãï¼é€£æºã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªï¼ˆFresh ã®ã‚³ãƒ¼ãƒ‰ã‚’ push ã—ãŸãƒªãƒã‚¸ãƒˆãƒªï¼‰ã‚’é¸æŠã—ï¼ŒSave ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ï¼

ã€ŒInstall Successã€ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ Deno Deploy ã®ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚Šï¼Œé€£æºã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã™ã‚‹ï¼ã€Œmain ãƒ–ãƒ©ãƒ³ãƒã€â†’ã€ŒAutomaticã€â†’ã€Œmain.tsã€ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ŒLinkã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ï¼

å°‘ã—å¾…ã¤ã¨ç”»é¢ãŒå¤‰ã‚ã‚‹ã®ã§ï¼Œã€ŒViewã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’é–‹ãäº‹ãŒã§ãã‚‹ï¼

ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã® URL ã®å¾Œã‚ã« `/omikuji_page` ã¨ `/janken_page` ã‚’ã¤ã‘ã¦ãƒšãƒ¼ã‚¸ã‚’é–‹ãï¼Œå®Ÿè£…ã—ãŸå†…å®¹ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã‚ˆã†ï¼

ãƒ–ãƒ©ã‚¦ã‚¶ã®æ“ä½œã ã‘ã§å®Œçµï¼ã™ã”ã„ï¼

## ã¾ã¨ã‚

æœ¬è¨˜äº‹ã§ã¯ Fresh ã‚’ä½¿ç”¨ã—ãŸåŸºæœ¬çš„ãªå®Ÿè£…ã‚’è¡Œã„ï¼Œãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§ã®æ‰‹é †ã‚’è§£èª¬ã—ãŸï¼

Deno Deploy ã‚’å«ã‚ã¦ TypeScript ã§ã®é–‹ç™ºã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§å…¨ã¦ã‚’è³„ãˆã‚‹ãŸã‚éå¸¸ã«å¼·åŠ›ã§ã‚ã‚‹ï¼DB ã‚„å¤–éƒ¨ API ã¨ã®é€£æºã§å®Œçµã™ã‚‹å®Ÿè£…ã§ã‚ã‚Œã°ã ã„ãŸã„äº‹è¶³ã‚Šãã†ãªäºˆæ„Ÿï¼

èˆˆå‘³å‡ºãŸã‚‰ãœã²è§¦ã£ã¦ã¿ã‚ˆã†ï¼

ä»Šå›ã¯ä»¥ä¸Šã (ï½€ï½¥Ï‰ï½¥)b
